# AutoBenchmark

Determine the speed of various AceCommon functions and algorithms.

**Version**: AceSorting v0.1

**DO NOT EDIT**: This file was auto-generated using `make README.md`.

## Dependencies

This program depends on the following libraries:

* [AceCommon](https://github.com/bxparks/AceCommon)

## How to Generate

This requires the [AUniter](https://github.com/bxparks/AUniter) script
to execute the Arduino IDE programmatically.

The `Makefile` has rules to generate the `*.txt` results file for several
microcontrollers that I usually support, but the `$ make benchmarks` command
does not work very well because the USB port of the microcontroller is a
dynamically changing parameter. I created a semi-automated way of collect the
`*.txt` files:

1. Connect the microcontroller to the serial port. I usually do this through a
USB hub with individually controlled switch.
2. Type `$ auniter ports` to determine its `/dev/ttyXXX` port number (e.g.
`/dev/ttyUSB0` or `/dev/ttyACM0`).
3. If the port is `USB0` or `ACM0`, type `$ make nano.txt`, etc.
4. Switch off the old microontroller.
5. Go to Step 1 and repeat for each microcontroller.

The `generate_table.awk` program reads one of `*.txt` files and prints out an
ASCII table that can be directly embedded into this README.md file. For example
the following command produces the table in the Nano section below:

```
$ ./generate_table.awk < nano.txt
```

Fortunately, we no longer need to run `generate_table.awk` for each `*.txt`
file. The process has been automated using the `generate_readme.py` script which
will be invoked by the following command:
```
$ make README.md
```

## CPU Time Changes

**v0.1**

* Initial results.

## Results

The following results show the runtime of each sorting function in microseconds,
when sorting different sized arrays.

### Arduino Nano

* 16MHz ATmega328P
* Arduino IDE 1.8.13
* Arduino AVR Boards 1.8.3
* `micros()` has a resolution of 4 microseconds

```
+---------------------+------------------------+---------+---------+---------+
|            \      N |    10 |    30 |    100 |     300 |    1000 |    3000 |
| Function    \       |       |       |        |         |         |         |
|---------------------+-------+-------+--------+---------+---------+---------|
| bubbleSort()        | 0.124 | 0.955 | 13.237 | 116.547 |         |         |
| insertionSort()     | 0.052 | 0.288 |  2.621 |  21.999 |         |         |
|---------------------+-------+-------+--------+---------+---------+---------|
| shellSortClassic()  | 0.091 | 0.370 |  1.797 |   7.487 |         |         |
| shellSortKnuth()    | 0.104 | 0.344 |  1.456 |   5.682 |         |         |
| shellSortTokuda()   | 0.078 | 0.338 |  1.614 |   6.567 |         |         |
|---------------------+-------+-------+--------+---------+---------+---------|
| combSort13()        | 0.164 | 0.533 |  2.160 |   8.016 |         |         |
| combSort125()       | 0.180 | 0.577 |  2.330 |   8.888 |         |         |
|---------------------+-------+-------+--------+---------+---------+---------|
| quickSortMiddle()   | 0.100 | 0.371 |  1.606 |   5.671 |         |         |
| quickSortMedian()   | 0.120 | 0.425 |  1.696 |   5.828 |         |         |
| quickSortMdnSwppd() | 0.089 | 0.328 |  1.409 |   4.924 |         |         |
+---------------------+-------+-------+--------+---------+---------+---------+

```

### SparkFun Pro Micro

* 16 MHz ATmega32U4
* Arduino IDE 1.8.13
* SparkFun AVR Boards 1.1.13
* `micros()` has a resolution of 4 microseconds

```
+---------------------+------------------------+---------+---------+---------+
|            \      N |    10 |    30 |    100 |     300 |    1000 |    3000 |
| Function    \       |       |       |        |         |         |         |
|---------------------+-------+-------+--------+---------+---------+---------|
| bubbleSort()        | 0.113 | 1.185 | 13.991 | 122.385 |         |         |
| insertionSort()     | 0.052 | 0.267 |  2.623 |  21.895 |         |         |
|---------------------+-------+-------+--------+---------+---------+---------|
| shellSortClassic()  | 0.092 | 0.371 |  1.820 |   7.515 |         |         |
| shellSortKnuth()    | 0.102 | 0.342 |  1.447 |   5.710 |         |         |
| shellSortTokuda()   | 0.073 | 0.332 |  1.632 |   6.564 |         |         |
|---------------------+-------+-------+--------+---------+---------+---------|
| combSort13()        | 0.169 | 0.534 |  2.174 |   8.198 |         |         |
| combSort125()       | 0.175 | 0.588 |  2.376 |   8.878 |         |         |
|---------------------+-------+-------+--------+---------+---------+---------|
| quickSortMiddle()   | 0.095 | 0.373 |  1.606 |   5.696 |         |         |
| quickSortMedian()   | 0.112 | 0.436 |  1.690 |   5.861 |         |         |
| quickSortMdnSwppd() | 0.092 | 0.344 |  1.431 |   5.058 |         |         |
+---------------------+-------+-------+--------+---------+---------+---------+

```

### SAMD21 M0 Mini

* 48 MHz ARM Cortex-M0+
* Arduino IDE 1.8.13
* SparkFun SAMD Core 1.8.3

```
+---------------------+------------------------+---------+---------+---------+
|            \      N |    10 |    30 |    100 |     300 |    1000 |    3000 |
| Function    \       |       |       |        |         |         |         |
|---------------------+-------+-------+--------+---------+---------+---------|
| bubbleSort()        | 0.031 | 0.312 |  3.689 |  33.142 | 380.670 |         |
| insertionSort()     | 0.013 | 0.095 |  0.929 |   7.985 |  88.710 |         |
|---------------------+-------+-------+--------+---------+---------+---------|
| shellSortClassic()  | 0.021 | 0.085 |  0.413 |   1.702 |   7.554 |  27.877 |
| shellSortKnuth()    | 0.019 | 0.065 |  0.293 |   1.152 |   5.141 |  19.352 |
| shellSortTokuda()   | 0.019 | 0.082 |  0.389 |   1.562 |   6.691 |  24.206 |
|---------------------+-------+-------+--------+---------+---------+---------|
| combSort13()        | 0.035 | 0.117 |  0.500 |   1.863 |   8.204 |  29.927 |
| combSort125()       | 0.038 | 0.129 |  0.530 |   2.027 |   8.467 |  30.975 |
|---------------------+-------+-------+--------+---------+---------+---------|
| quickSortMiddle()   | 0.022 | 0.078 |  0.312 |   1.098 |   4.201 |  14.217 |
| quickSortMedian()   | 0.026 | 0.088 |  0.346 |   1.166 |   4.364 |  14.481 |
| quickSortMdnSwppd() | 0.020 | 0.071 |  0.280 |   0.973 |   3.741 |  12.586 |
+---------------------+-------+-------+--------+---------+---------+---------+

```

### STM32

* STM32 "Blue Pill", STM32F103C8, 72 MHz ARM Cortex-M3
* Arduino IDE 1.8.13
* STM32duino 2.0.0

```
+---------------------+------------------------+---------+---------+---------+
|            \      N |    10 |    30 |    100 |     300 |    1000 |    3000 |
| Function    \       |       |       |        |         |         |         |
|---------------------+-------+-------+--------+---------+---------+---------|
| bubbleSort()        | 0.023 | 0.233 |  2.992 |  28.673 | 320.419 |         |
| insertionSort()     | 0.008 | 0.058 |  0.528 |   4.481 |  49.305 |         |
|---------------------+-------+-------+--------+---------+---------+---------|
| shellSortClassic()  | 0.018 | 0.074 |  0.362 |   1.486 |   6.434 |  23.749 |
| shellSortKnuth()    | 0.013 | 0.057 |  0.281 |   1.127 |   5.096 |  19.283 |
| shellSortTokuda()   | 0.012 | 0.052 |  0.243 |   0.987 |   4.235 |  15.370 |
|---------------------+-------+-------+--------+---------+---------+---------|
| combSort13()        | 0.017 | 0.077 |  0.393 |   1.542 |   7.110 |  25.657 |
| combSort125()       | 0.018 | 0.085 |  0.419 |   1.703 |   7.212 |  26.833 |
|---------------------+-------+-------+--------+---------+---------+---------|
| quickSortMiddle()   | 0.018 | 0.067 |  0.275 |   0.988 |   3.865 |  13.130 |
| quickSortMedian()   | 0.022 | 0.077 |  0.317 |   1.093 |   4.239 |  14.411 |
| quickSortMdnSwppd() | 0.015 | 0.055 |  0.230 |   0.833 |   3.305 |  11.147 |
+---------------------+-------+-------+--------+---------+---------+---------+

```

### ESP8266

* NodeMCU 1.0 clone, 80MHz ESP8266
* Arduino IDE 1.8.13
* ESP8266 Boards 2.7.4

```
+---------------------+------------------------+---------+---------+---------+
|            \      N |    10 |    30 |    100 |     300 |    1000 |    3000 |
| Function    \       |       |       |        |         |         |         |
|---------------------+-------+-------+--------+---------+---------+---------|
| bubbleSort()        | 0.025 | 0.184 |  2.045 |  20.115 | 234.631 |         |
| insertionSort()     | 0.007 | 0.038 |  0.358 |   3.232 |  35.135 |         |
|---------------------+-------+-------+--------+---------+---------+---------|
| shellSortClassic()  | 0.012 | 0.047 |  0.231 |   0.942 |   4.049 |  14.946 |
| shellSortKnuth()    | 0.010 | 0.036 |  0.170 |   0.682 |   2.992 |  11.357 |
| shellSortTokuda()   | 0.009 | 0.038 |  0.183 |   0.734 |   3.136 |  11.341 |
|---------------------+-------+-------+--------+---------+---------+---------|
| combSort13()        | 0.013 | 0.047 |  0.216 |   0.842 |   3.770 |  13.497 |
| combSort125()       | 0.014 | 0.053 |  0.237 |   0.924 |   3.874 |  14.241 |
|---------------------+-------+-------+--------+---------+---------+---------|
| quickSortMiddle()   | 0.013 | 0.047 |  0.189 |   0.658 |   2.485 |   8.491 |
| quickSortMedian()   | 0.016 | 0.052 |  0.202 |   0.681 |   2.557 |   8.445 |
| quickSortMdnSwppd() | 0.012 | 0.040 |  0.158 |   0.547 |   2.107 |   7.212 |
+---------------------+-------+-------+--------+---------+---------+---------+

```

### ESP32

* ESP32-01 Dev Board, 240 MHz Tensilica LX6
* Arduino IDE 1.8.13
* ESP32 Boards 1.0.6

```
+---------------------+------------------------+---------+---------+---------+
|            \      N |    10 |    30 |    100 |     300 |    1000 |    3000 |
| Function    \       |       |       |        |         |         |         |
|---------------------+-------+-------+--------+---------+---------+---------|
| bubbleSort()        | 0.007 | 0.051 |  0.744 |   6.588 |  77.252 |         |
| insertionSort()     | 0.004 | 0.018 |  0.157 |   1.368 |  14.635 |         |
|---------------------+-------+-------+--------+---------+---------+---------|
| shellSortClassic()  | 0.004 | 0.016 |  0.081 |   0.327 |   1.439 |   5.328 |
| shellSortKnuth()    | 0.004 | 0.013 |  0.062 |   0.249 |   1.113 |   4.259 |
| shellSortTokuda()   | 0.004 | 0.014 |  0.065 |   0.260 |   1.113 |   4.028 |
|---------------------+-------+-------+--------+---------+---------+---------|
| combSort13()        | 0.005 | 0.020 |  0.096 |   0.378 |   1.704 |   6.177 |
| combSort125()       | 0.005 | 0.020 |  0.097 |   0.392 |   1.667 |   6.173 |
|---------------------+-------+-------+--------+---------+---------+---------|
| quickSortMiddle()   | 0.005 | 0.017 |  0.073 |   0.255 |   0.991 |   3.406 |
| quickSortMedian()   | 0.005 | 0.018 |  0.072 |   0.254 |   0.981 |   3.242 |
| quickSortMdnSwppd() | 0.004 | 0.014 |  0.058 |   0.208 |   0.815 |   2.853 |
+---------------------+-------+-------+--------+---------+---------+---------+

```

### Teensy 3.2

* 96 MHz ARM Cortex-M4
* Arduino IDE 1.8.13
* Teensyduino 1.53
* Compiler options: "Faster"

```
+---------------------+------------------------+---------+---------+---------+
|            \      N |    10 |    30 |    100 |     300 |    1000 |    3000 |
| Function    \       |       |       |        |         |         |         |
|---------------------+-------+-------+--------+---------+---------+---------|
| bubbleSort()        | 0.012 | 0.107 |  1.273 |  12.316 | 138.546 |         |
| insertionSort()     | 0.006 | 0.035 |  0.394 |   3.519 |  36.235 |         |
|---------------------+-------+-------+--------+---------+---------+---------|
| shellSortClassic()  | 0.008 | 0.034 |  0.169 |   0.692 |   3.022 |  11.107 |
| shellSortKnuth()    | 0.006 | 0.027 |  0.132 |   0.527 |   2.354 |   8.921 |
| shellSortTokuda()   | 0.007 | 0.029 |  0.138 |   0.553 |   2.373 |   8.615 |
|---------------------+-------+-------+--------+---------+---------+---------|
| combSort13()        | 0.008 | 0.037 |  0.180 |   0.716 |   3.205 |  11.766 |
| combSort125()       | 0.008 | 0.039 |  0.194 |   0.788 |   3.337 |  12.403 |
|---------------------+-------+-------+--------+---------+---------+---------|
| quickSortMiddle()   | 0.007 | 0.026 |  0.111 |   0.389 |   1.539 |   5.223 |
| quickSortMedian()   | 0.009 | 0.031 |  0.121 |   0.413 |   1.606 |   5.347 |
| quickSortMdnSwppd() | 0.007 | 0.025 |  0.103 |   0.367 |   1.413 |   4.779 |
+---------------------+-------+-------+--------+---------+---------+---------+

```

